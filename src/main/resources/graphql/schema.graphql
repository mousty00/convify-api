type Query {
    """
    Get the status of a conversion job by ID
    """
    conversionStatus(jobId: ID!): ConversionJob!

    """
    Health check endpoint
    """
    health: HealthStatus!
}

type Mutation {
    """
    Start an asynchronous video conversion
    """
    convertAsync(input: ConvertInput!): ConversionResponse!

    """
    Get download information for a converted file
    """
    download(filepath: String!): DownloadInfo!
}

input ConvertInput {
    url: String!
    format: Format!
}

enum Format {
    MP3
    MP4
}

type ConversionResponse {
    jobId: ID!
    status: String!
    message: String!
}

type ConversionJob {
    jobId: ID!
    url: String!
    format: Format!
    status: JobStatus!
    videoId: String
    videoTitle: String
    filePath: String
    errorMessage: String
    createdAt: String!
    completedAt: String
}

enum JobStatus {
    PENDING
    PROCESSING
    COMPLETED
    FAILED
}

type DownloadInfo {
    filename: String!
    contentType: String!
    size: Int
    downloadUrl: String!
}

type HealthStatus {
    status: String!
    service: String!
}